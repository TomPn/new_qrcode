// Ch/ENG translation 

// var language="CH";
// var dictionary = { 
//     ch:{ "dishA1":'香辣土豆粉',
//         "dishA2":"排骨土豆粉",
//         "dishA3":"三鲜土豆粉",
//         "dishA4":"牛腩土豆粉",
//         "dishA5":"海鲜土豆粉",
//         "dishA6":"鸭丝土豆粉",
//         "dishA7":"肥肠土豆粉",
//         "dishA8":"羊杂土豆粉",
//         "dishA9":"小炖肉土豆粉",
//         "dishA10":"鸡丝土豆粉",
//         "dishA11":"鸡丝土豆粉",
//         "dishA12":"香辣鸡块土豆粉",
//         "dishB1":"羊肉面",
//         "dishB2":"红烧排骨面",
//         "dishB3":"红烧牛肉面",
//         "dishB4":"海鲜面",
//         "dishB5":"肥肠面",
//         "dishB6":"羊杂面",
//         "dishB7":"小炖肉面",
//         "dishB8":"炸酱面",
//         "dishB9":"肉燥汤面",
//         "dishB10":"鸡丝汤面",
//         "dishB11":"香辣鸡块汤面",
//         "dishB12":"三鲜汤面",
//         "dishB13":"香辣汤面",
//         "dishB14":"鸭丝汤面",
//         "dishC1":"羊肉泡馍",
//         "dishC2":"水盆羊肉配饼",
//         "dishC3":"腊汁肉夹馍",
//         "dishC4":"麻酱鸡丝凉面",
//         "dishC5":"麻酱凉面",
//         "dishC6":"川味招牌冷面",
//         "dishC7":"羊杂汤配饼",
//         "dishC8":"白吉馍",
//         "dishC9":"蛋夹馍",
//         "dishC10":"椒盐油酥烧饼",
//         "dishC11":"芝麻糖油酥烧饼",
//         "dishD1":"可乐",
//         "dishD2":"雪碧",
//         "dishD3":"绿茶 Arizona",
//         "dishD4":"Canada Dry",
//         "dishD5":"Nestea",
//         "dishD6":"加多宝",
//         "dishD7":"绿茶",
//         "dishD8":"茉莉蜜茶",
//         "dishD9":"茉莉清茶",
//         "dishE1":"拌三丝",
//         "dishE3":"香辣豆泡（辣）",
//         "dishE4":"香辣鸡腿（辣）（2个）",
//         "dishE6":"酱猪骨",
//         "dishE8":"洋葱拌木耳",
//         "dishE10":"香辣珍心（辣）",
//         "dishF1":"招牌蛋白养生渔粉",
//         "dishF2":"排骨养生渔粉",
//         "dishF3":"鸭丝养生渔粉",
//         "dishF4":"牛肉养生渔粉",
//         "dishF5":"肥肠养生渔粉",
//         "dishF6":"海鲜养生渔粉",
//         "dishF7":"小炖肉养生渔粉",
//         "dishF8":"羊肉养生渔粉",
//         "dishF9":"羊杂养生渔粉",
//         "dishF10":"三鲜养生渔粉",
//         "dishF11":"香辣养生渔粉",
//         "dishF12":"鸡丝养生渔粉",
//         "dishF13":"香辣鸡块养生渔粉",
//         "dishF14":"肉燥养生渔粉",
//         "dishG1":"牛肉",
//         "dishG2":"羊肉",
//         "dishG3":"鸭丝",
//         "dishG4":"排骨",
//         "dishG5":"肥肠",
//         "dishG6":"大虾（4pcs）",
//         "dishG7":"小炖肉",
//         "dishG8":"鸡丝",
//         "dishG9":"鸡块",
//         "dishG10":"牛丸",
//         "dishG11":"鱼丸",
//         "dishG12":"羊杂",
//         "dishG13":"青口（3个）",
//         "dishG14":"肉燥",
//         "dishH1":"面",
//         "dishH2":"米线",
//         "dishH3":"土豆粉",
//         "dishH4":"粉丝",
//         "dishI1":"青菜",
//         "dishI2":"海带",
//         "dishI3":"豆干",
//         "dishI4":"青瓜",
//         "dishI5":"皇子菇",
//         "dishI6":"豆芽",
//         "dishI7":"木耳丝",
//         "dishI8":"黄花菜",
//         "dishJ1":"加煎蛋",
//         "dishJ2":"加卤蛋",
//         "dishK1":"清汤",
//         "dishK2":"改浓骨汤" },
//         eng:{ "dishA1":"Spicy Potato Noodle in Soup",
//         "dishA2":"Pork Ribs Potato Noodle in Soup",
//         "dishA3":"Three Delicacies Potato Noodle in Soup",
//         "dishA4":"Beef Brisket Potato Noodle in Soup",
//         "dishA5":"Seafood Potato Noodle in Soup",
//         "dishA6":"Shredded Duck Potato Noodle in Soup",
//         "dishA7":"Pork Intestine Potato Noodle in Soup",
//         "dishA8":"Lamb Belly Potato Noodle in Soup",
//         "dishA9":"Sliced Lamb Potato Noodle in Soup",
//         "dishA10":"Braised Pork Potato Noodle in Soup",
//         "dishA11":"Sliced Chicken Potato Noodle in Soup",
//         "dishA12":"Braised Chicken Potato Noodle in Soup",
//         "dishB1":"Sliced Lamb Ramen in Soup",
//         "dishB2":"Pork Ribs Ramen in Soup",
//         "dishB3":"Beef Brisket Ramen in Soup",
//         "dishB4":"Seafood Ramen in Soup",
//         "dishB5":"Pork Intestine Ramen in Soup",
//         "dishB6":"Lamb Belly Ramen in Soup",
//         "dishB7":"Braised Pork Ramen in Soup",
//         "dishB8":"Minced Pork Ramen",
//         "dishB9":"Minced Pork Ramen in Soup",
//         "dishB10":"Sliced Chicken Ramen in Soup",
//         "dishB11":"Braised Chicken Ramen in Soup",
//         "dishB12":"Three Delicacies Ramen in Soup",
//         "dishB13":"Spicy Ramen in Soup",
//         "dishB14":"Shredded Duck Ramen in Soup",
//         "dishC1":"Pita Bread Soaked in Lamb Soup",
//         "dishC2":"Basin Lamb with Mutton",
//         "dishC3":"Chinese Hamburger",
//         "dishC4":"Chicken Cold Noodle with Sesame",
//         "dishC5":"Cold Noodle with Sesame",
//         "dishC6":"Chef's Special Cold Noodle",
//         "dishC7":"Lamb Belly Soup with Mutton",
//         "dishC8":"Chinese Bun",
//         "dishC9":"Egg with Chinese Bun",
//         "dishC10":"Salted Pastry Biscuit",
//         "dishC11":"Sesame Sweet Pastry Biscuit",
//         "dishD1":"Coke",
//         "dishD2":"Sprite",
//         "dishD3":"Arizona",
//         "dishD4":"Canada Dry",
//         "dishD5":"Nestea",
//         "dishD6":"Herbal Tea",
//         "dishD7":"Green Tea",
//         "dishD8":"Jasmine Tea",
//         "dishD9":"Sweet Tea",
//         "dishE1":"Mix Three Wire",
//         "dishE3":"Tofu in Sichan Taste Sauce (Spicy)",
//         "dishE4":"Chicken in Siwon Taste Sauce (Spicy)(2pcs)",
//         "dishE6":"Stewed Pork Ribs",
//         "dishE8":"Black Fungus & Onion",
//         "dishE10":"Spicy Chicken Gizzards (Spicy)",
//         "dishF1":"Fish Multi Grain Fish Rice Noodle in Soup",
//         "dishF2":"Multi Grain Fish Rice Noodle with Pork Ribs in Special Soup",
//         "dishF3":"Multi Grain Fish Rice Noodle with Shredded Duck in Special Soup",
//         "dishF4":"Multi Grain Fish Rice Noodle with Beef in Special Soup",
//         "dishF5":"Multi Grain Fish Rice Noodle with Pork Intestine in Special Soup",
//         "dishF6":"Multi Grain Fish Rice Noodle with Seafood in Special Soup",
//         "dishF7":"Multi Grain Fish Rice Noodle with Braised Pork in Special Soup",
//         "dishF8":"Multi Grain Fish Rice Noodle with Sliced Lamb in Special Soup",
//         "dishF9":"Multi Grain Fish Rice Noodle with Lamb Belly in Special Soup",
//         "dishF10":"Multi Grain Fish Rice Noodle with Three Delicacies in Special Soup",
//         "dishF11":"Multi Grain Fish Rice Noodle with Meat Balls in Special Soup",
//         "dishF12":"Multi Grain Fish Rice Noodle with Sliced Chicken in Special Soup",
//         "dishF13":"Multi Grain Fish Rice Noodle with Braised Chicken in Special Soup",
//         "dishF14":"Multi Grain Fish Rice Noodle with Minced Pork in Special Soup",
//         "dishG1":"Beef",
//         "dishG2":"Sliced Lamb",
//         "dishG3":"Shredded Duck",
//         "dishG4":"Pork Ribs",
//         "dishG5":"Pork Intestine",
//         "dishG6":"Shrimp(4pcs)",
//         "dishG7":"Braised Pork",
//         "dishG8":"Sliced Chicken",
//         "dishG9":"Chicken",
//         "dishG10":"Beef Ball",
//         "dishG11":"Fish Ball",
//         "dishG12":"Lamb Belly",
//         "dishG13":"Mussel(3pcs)",
//         "dishG14":"Minced Pork",
//         "dishH1":"Ramen",
//         "dishH2":"Rice Noodle",
//         "dishH3":"Potato Noodle",
//         "dishH4":"Chinese Vermicelli",
//         "dishI1":"Veg",
//         "dishI2":"Kelp",
//         "dishI3":"Dried Bean Curd",
//         "dishI4":"Cucumber",
//         "dishI5":"King Oyster Mushroom",
//         "dishI6":"Bean Sprouts",
//         "dishI7":"Black Fungus Silk",
//         "dishI8":"Daylily",
//         "dishJ1":"Fried Egg",
//         "dishJ2":"Spiced Corned Egg",
//         "dishK1":"Soup",
//         "dishK2":"Change to Bone Soup" }
//      };

 var dishes = document.getElementsByClassName("dish");
 for(var i = 0; i < dishes.length; ++i){ 
    var dish = dishes[i] //console.log(dishName);
    dish.addEventListener("click",dishClicked);
 } 
 
 function dishClicked(event){ 
     if(sessionStorage.enteredTableID != null){
        var dish = event.currentTarget;
        var dishName = dish.querySelectorAll(".dishName")[0].innerHTML;
        var dishPrice = dish.querySelectorAll(".dishPrice")[0].innerHTML;
        sessionStorage.setItem('dishName',JSON.stringify(dishName));
        sessionStorage.setItem('dishPrice',JSON.stringify(dishPrice));
        document.cookie = "price=" + parseFloat(dishPrice.slice(1));
        const isTextSelected = window.getSelection().toString();
        if (!isTextSelected) { window.location.href='order.php';} 
     }
}

var tableID = sessionStorage.enteredTableID;
if(tableID == null){
    $('<div/>',{
        class:"askForTableID"
    }).appendTo('body');

    $('<form/>',{
        id:'askForTableIDForm'
    }).appendTo('.askForTableID');

    $('<label/>',{
        for:'enteredTableID',
        text:'请选择您的桌号 Please Choose Your Table Number'
    }).appendTo('#askForTableIDForm');

    $("label").after("<br/>");

    $('<select id="enteredTableID" style="font-size: 1rem;padding: 1.5%;margin: 5%;">'+
    '<option value=""></option>' + 
    '<option value="A1">A1</option>' + 
    '<option value="A2">A2</option>' + 
    '<option value="A3">A3</option>' + 
    '<option value="A4">A4</option>' + 
    '<option value="A5">A5</option>' + 
    '<option value="A6">A6</option>' + 
    '<option value="A7">A7</option>' + 
    '<option value="A8">A8</option>' + 
    '<option value="C1">C1</option>' + 
    '<option value="C2">C2</option>' + 
    '<option value="C3">C3</option>' + 
    '<option value="C4">C4</option>' + 
    '<option value="C5">C5</option>' + 
    '<option value="C6">C6</option>' + 
    '<option value="C7">C7</option>' + 
    '<option value="C8">C8</option>' + 
    '</select><br/>').appendTo("#askForTableIDForm");

    //$("<input type=' text' id='enteredTableID'><br>").appendTo("#askForTableIDForm");

    $('<button/>',{
        type:'button',
        id:'enteredTableIDSubmit',
        style:'font-size:1rem',
        text:'确定 Confirm'
    }).appendTo('#askForTableIDForm');

    $('#enteredTableIDSubmit').on('click',function(){
        $('.askForTableID').hide();
        var tableID = $('#enteredTableID').val();
        sessionStorage.setItem('enteredTableID',tableID);
        $('#tableID').html(tableID);
    });
} else{
    $('title').html(tableID);
    $('#tableID').html(tableID);
}



var items = JSON.parse(sessionStorage.getItem('itemList'));
var orderTotalPrice = 0;
if(items != null){
    items.forEach(item => orderTotalPrice += item.totalPrice);
}
orderTotalPrice = Number((orderTotalPrice).toFixed(2));
document.getElementById('addToCartPrice').innerHTML = '$'.concat(orderTotalPrice);


